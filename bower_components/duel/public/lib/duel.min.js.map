{"version":3,"file":"public/lib/duel.min.js","sources":["public/lib/duel.js"],"names":["root","factory","define","amd","exports","module","duel","window","this","useStorageEvent","test","navigator","userAgent","noWarnings","isLocalStorageAvailable","hasStorage","localStorage","setItem","uid","Date","removeItem","e","clone","obj","copy","Object","attr","hasOwnProperty","Error","DuelAbstractChannel","prototype","getName","_name","setCurrentWindowAsMaster","currentWindowIsMaster","broadcast","trigger","executeTrigger","name","args","Array","slice","call","arguments","emit","apply","getItem","varName","__storage","angular","fromJson","JSON","parse","value","toJson","stringify","triggerDetails","force","_triggers","console","warn","on","callback","once","off","_generateWindowID","_windowID","Math","random","toString","split","getWindowID","DuelLocalStorageChannel","i","len","ch","wIndex","wID","chName","length","master","id","push","channelName","DuelFakeChannel","error","activeChannels","channel","chID","makeCurrentWindowMaster","onfocus","isMaster","addEvent","document","addEventListener","el","type","fn","nodeName","attachEvent","event","hidden","storageEvent","key","eventDetails","newValue","storageOldTriggerValue","setInterval","j","splice"],"mappings":"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"}